
<body class="bg-[#10181e] font-sans" style="font-family: 'Space Grotesk', sans-serif;">
  <%- include('./components/wrapper') %>

 <!-- Main Content -->
<main class="flex-grow container mx-auto px-4 py-8">
  <div class="flex justify-between items-center w-full mx-auto pb-4">
      <!-- Welcome text and subtext on the left -->
      <div class="flex flex-col">
          <h1 class="text-xl text-white font-semibold mb-0.5" style="font-family: 'Cabin';">User Credentials</h1>
          <p class="text-gray-400 text-md">View the credentials to your <%= name %> Panel account.</p>
      </div>

      <!-- Breadcrumbs on the right -->
      <nav aria-label="Breadcrumb" class="inline-flex py-2 px-4 rounded-xl bg-white/5 transition-colors duration-200">
          <ol role="list" class="flex items-center space-x-2">
              <li>
                  <a href="#_" class="text-sm flex items-center gap-2 text-zinc-400 hover:text-zinc-200 transition-colors duration-200" aria-current="false">
                      <svg
                          aria-hidden="true"
                          xmlns="http://www.w3.org/2000/svg"
                          viewBox="0 0 24 24"
                          fill="none"
                          stroke="currentColor"
                          stroke-width="2"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          class="icon icon-tabler size-4 icons-tabler-outline icon-tabler-home"
                      >
                          <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                          <path d="M5 12l-2 0l9 -9l9 9l-2 0"></path>
                          <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7"></path>
                          <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6"></path>
                      </svg>
                      <span>Home</span>
                  </a>
              </li>
              <li class="flex items-center">
                  <svg
                      xmlns="http://www.w3.org/2000/svg"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      class="icon icon-tabler icons-tabler-outline icon-tabler-chevron-right size-4 text-zinc-400"
                  >
                      <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                      <path d="M9 6l6 6l-6 6"></path>
                  </svg>
              </li>
              <li>
                  <a href="#_" class="text-sm flex items-center gap-2 font-medium text-white/80 hover:text-white transition-colors duration-200" aria-current="page">
                      User Credentials
                  </a>
              </li>
          </ol>
      </nav>
  </div>

  <!-- Credentials Content -->
  <div class="mt-12 flex justify-center">
      <div class="text-center">
          <div class="mb-6">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 bg-white/5 p-1.5 rounded-xl border border-white/10 mx-auto text-gray-200" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z" />
              </svg>
          </div>
          <h2 class="text-2xl text-white font-bold mb-4">User Credentials</h2>
          <p class="text-gray-400 mb-6">Use these credentials to access certain actions such as SFTP.</p>
          <form>
              <div class="mb-4">
                  <input value="<%= user.email %>" class="w-full text-gray-600 px-4 font-medium py-2 border rounded-full" disabled>
              </div>
              <dd class="mt-2 text-sm text-gray-900 sm:col-span-2 sm:mt-0">
                  <li class="flex items-center justify-between py-4 pl-4 pr-5 text-sm leading-6">
                    <div class="flex w-0 flex-1 items-center">
                      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="h-5 w-5 flex-shrink-0 text-zinc-600">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 5.25a3 3 0 013 3m3 0a6 6 0 01-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1121.75 8.25z" />
                      </svg>
                      <div class="ml-4 flex min-w-0 flex-1 gap-2">
                        <% if (req.session.password) { %>
                        <span class="truncate font-medium text-zinc-400"><%= req.session.password %></span>
                        <% } else { %>
                        <div 
                          onclick="navigator.clipboard.writeText('<%= password %>');" 
                          class="rounded-xl focus:ring-transparent focus:border-transparent text-white text-sm mt-3 mb-0 inline-block items-center transition justify-left hover:bg-white/5 px-2 py-2 bg-neutral-900 placeholder:text-white/20 border border-white/5"
                          style="display: inline-block; padding: 8px 12px; width: auto;"
                        >
                          <span id="passwordText" 
                                style="filter: blur(5px); white-space: nowrap; display: inline;" 
                                onclick="navigator.clipboard.writeText('<%= password %>');" 
                                onmouseover="this.style.filter = 'none';" 
                                onmouseout="this.style.filter = 'blur(5px)';">
                            <%= password %>
                          </span>
                        </div>
                        <% } %>
                      </div>
                    </div>
                    <div class="ml-4 flex-shrink-0"></div>
                  </li>
              </dd>              
              <div class="flex justify-between mb-6">
                  <a href="../panel/" type="button" class="bg-orange-600 text-sm font-medium text-white px-4 py-2 rounded-full hover:bg-orange-700 transition">Panel</a>
                  <button type="button" onclick="copyPassword()" class="text-sm font-medium bg-gray-200 text-gray-700 px-4 py-2 rounded-full transition hover:bg-gray-300">Copy</button>
              </div>
          </form>
      </div>
  </div>
</main>

<script>
  function togglePasswordVisibility() {
      window.location.href = "../regen"
  }

  function copyPassword() {
      const passwordInput = document.getElementById('password');
      navigator.clipboard.writeText(passwordInput.value);
      alert('Password copied to clipboard!');
  }
</script>


      <!-- Footer -->
      <%- include('./components/footer') %>

  </div>

  <script>
      // Function to highlight the active tab
      function setActiveTab() {
          const currentPath = window.location.pathname;
          const tabs = document.querySelectorAll('#tabs a');
          tabs.forEach(tab => {
              if (tab.getAttribute('href') === currentPath) {
                  tab.classList.add('border-orange-500', 'text-orange-500', 'font-medium');
                  tab.classList.remove('border-transparent', 'hover:border-gray-300', 'hover:text-white');
              } else {
                  tab.classList.remove('border-orange-500', 'text-orange-500', 'font-medium');
                  tab.classList.add('border-transparent', 'hover:border-gray-300', 'hover:text-white');
              }
          });
      }

      // Set active tab on page load
      setActiveTab();

      // For demonstration purposes, simulate changing routes when clicking tabs
      document.querySelectorAll('#tabs a').forEach(tab => {
          tab.addEventListener('click', (e) => {
              e.preventDefault();
              const href = e.currentTarget.getAttribute('href');
              history.pushState(null, '', href);
              window.location.href = href;
              setActiveTab();
          });
      });

      // Listen for popstate events (back/forward browser navigation)
      window.addEventListener('popstate', setActiveTab);
  </script>
</body>
</html>
<script>
  var options = {
    classname: 'loadingbar',
    id: 'loadingbar'
  };
  var nanobar = new Nanobar(options);
  function simulateLoading() {
    nanobar.go(10); // Change this value to control the loading speed
    setTimeout(function() {
      nanobar.go(50);
    }, 190); // Delay the progress update
    setTimeout(function() {
      nanobar.go(100);
    }, 400); // Another delay
  }
  simulateLoading();
</script>
<style>
  .loadingbar .bar {
    background: #fb923c;
    -webkit-box-shadow: 0px 4px 38px -15px #fb923c;
    -moz-box-shadow: 0px 4px 38px -15px #fb923c;
    box-shadow: 0px 4px 38px -15px #fb923c;
    height: 1.85px;
  }
</style>